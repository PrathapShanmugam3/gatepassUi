{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/apiServices/api.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/forms\";\nexport class UpdateDepartmentComponent {\n  constructor(apiService, route, act, snack) {\n    this.apiService = apiService;\n    this.route = route;\n    this.act = act;\n    this.snack = snack;\n    this.updateDepartment = new FormGroup({\n      departmentCode: new FormControl(),\n      departmentName: new FormControl()\n    });\n  }\n  ngOnInit() {\n    this.id = this.act.snapshot.params['id'];\n    console.log(this.id);\n    this.getDepartmentbyId();\n  }\n  getDepartmentbyId() {\n    this.apiService.getId(`Admin/getDepartmentDetailsById/${this.id}`).subscribe(res => {\n      this.updateDepartment.patchValue(res);\n    });\n  }\n  updateDepartmentSubmit() {\n    const data = this.updateDepartment.value;\n    this.apiService.update(`Admin/UpdatedepartmentDetails/${this.id}`, data).subscribe(res => {\n      console.log(res);\n      this.route.navigate(['Admin', 'department', 'viewDepartment']);\n      this.showNotification('Department Updated Successfully', 'close');\n    });\n  }\n  gotoViewDepartment() {\n    this.route.navigate(['Admin', 'department', 'viewDepartment']);\n  }\n  showNotification(message, action) {\n    this.snack.open(message, action, {\n      duration: 3000\n    });\n  }\n  static #_ = this.ɵfac = function UpdateDepartmentComponent_Factory(t) {\n    return new (t || UpdateDepartmentComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UpdateDepartmentComponent,\n    selectors: [[\"app-update-department\"]],\n    decls: 16,\n    vars: 1,\n    consts: [[1, \"container\"], [\"action\", \"\", 3, \"formGroup\"], [1, \"mb-3\"], [\"for\", \"exampleFormControlInput1\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"exampleFormControlInput1\", \"name\", \"departmentCode\", \"formControlName\", \"departmentCode\", 1, \"form-control\"], [\"for\", \"exampleFormControlTextarea1\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"exampleFormControlInput1\", \"name\", \"department\", \"formControlName\", \"departmentName\", 1, \"form-control\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"ms-5\", 3, \"click\"]],\n    template: function UpdateDepartmentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"update-department works!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 0)(3, \"form\", 1)(4, \"div\", 2)(5, \"label\", 3);\n        i0.ɵɵtext(6, \"Department Code :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"input\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 2)(9, \"label\", 5);\n        i0.ɵɵtext(10, \"Department : \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"input\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function UpdateDepartmentComponent_Template_button_click_12_listener() {\n          return ctx.updateDepartmentSubmit();\n        });\n        i0.ɵɵtext(13, \"Submit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function UpdateDepartmentComponent_Template_button_click_14_listener() {\n          return ctx.gotoViewDepartment();\n        });\n        i0.ɵɵtext(15, \"Cancel\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.updateDepartment);\n      }\n    },\n    dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["FormControl","FormGroup","UpdateDepartmentComponent","constructor","apiService","route","act","snack","updateDepartment","departmentCode","departmentName","ngOnInit","id","snapshot","params","console","log","getDepartmentbyId","getId","subscribe","res","patchValue","updateDepartmentSubmit","data","value","update","navigate","showNotification","gotoViewDepartment","message","action","open","duration","_","i0","ɵɵdirectiveInject","i1","ApiService","i2","Router","ActivatedRoute","i3","MatSnackBar","_2","selectors","decls","vars","consts","template","UpdateDepartmentComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","UpdateDepartmentComponent_Template_button_click_12_listener","UpdateDepartmentComponent_Template_button_click_14_listener","ɵɵadvance","ɵɵproperty"],"sources":["/home/prathap/Videos/SeqNodeApi/gate_pass_ui/src/app/admin/department/update-department/update-department.component.ts","/home/prathap/Videos/SeqNodeApi/gate_pass_ui/src/app/admin/department/update-department/update-department.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiService } from 'src/app/apiServices/api.service';\nimport { Department } from 'src/app/classes/department';\n\n@Component({\n  selector: 'app-update-department',\n  templateUrl: './update-department.component.html',\n  styleUrls: ['./update-department.component.css']\n})\nexport class UpdateDepartmentComponent implements OnInit{\n\n\n  id:number;\n\n  constructor(private apiService:ApiService,private route:Router,private act:ActivatedRoute,private snack:MatSnackBar){}\n  \n  ngOnInit(): void {\n   this.id= this.act.snapshot.params['id'];\n   console.log(this.id);\n   this.getDepartmentbyId()\n  }\n\n  updateDepartment= new FormGroup({\n\ndepartmentCode:new FormControl(),\ndepartmentName:new FormControl()\n\n  });\n\n\n\n  getDepartmentbyId(){\n    \n    this.apiService.getId(`Admin/getDepartmentDetailsById/${this.id}`).subscribe((res)=>{\n      this.updateDepartment.patchValue(res);\n    })\n  }\n\n  updateDepartmentSubmit(){\n\n    const data =this.updateDepartment.value as Department;\n\n\n    this.apiService.update(`Admin/UpdatedepartmentDetails/${this.id}`,data).subscribe((res)=>{\n\n      console.log(res);\n      \n      this.route.navigate(['Admin','department','viewDepartment']);\n      this.showNotification('Department Updated Successfully','close')\n\n    })\n   \n    \n  }\n\n\n\n\n  gotoViewDepartment() {\n\n    this.route.navigate(['Admin','department','viewDepartment']);\n\n    }\n\n\n    showNotification(message:string,action:string ) {\n      this.snack.open(message, action, {\n        duration:3000,\n      })\n    }\n\n\n\n\n\n}\n","<p>update-department works!</p>\n<div class=\"container\">\n    <form action=\"\" [formGroup]=\"updateDepartment\">\n        <div class=\"mb-3\">\n            <label for=\"exampleFormControlInput1\" class=\"form-label\">Department Code :</label>\n            <input type=\"number\" class=\"form-control\" id=\"exampleFormControlInput1\" name=\"departmentCode\" formControlName=\"departmentCode\">\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"exampleFormControlTextarea1\" class=\"form-label\">Department : </label>\n            <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" name=\"department\" formControlName=\"departmentName\">\n          </div>\n          <button type=\"button\" class=\"btn btn-success\" (click)=\"updateDepartmentSubmit()\">Submit</button>\n          <button type=\"button\" class=\"btn btn-danger ms-5\" (click)=\"gotoViewDepartment()\">Cancel</button>\n        </form>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}