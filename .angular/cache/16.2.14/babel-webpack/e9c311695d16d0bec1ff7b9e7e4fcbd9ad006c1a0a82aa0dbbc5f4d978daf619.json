{"ast":null,"code":"import { FormControl, FormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/apiServices/api.service\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/forms\";\nexport class AddDepartmentComponent {\n  constructor(route, ser, snack) {\n    this.route = route;\n    this.ser = ser;\n    this.snack = snack;\n    this.addDepartment = new FormGroup({\n      departmentCode: new FormControl(),\n      departmentName: new FormControl()\n    });\n  }\n  post() {\n    const data = this.addDepartment.value;\n    this.ser.post('Admin/addDepartment', data).subscribe({\n      next: res => {\n        console.log(res);\n        if (res.message === 'Successfully saved') {\n          this.route.navigate(['Admin', 'department', 'viewDepartment']);\n        } else {\n          alert(res.message); // Handle unexpected messages\n        }\n      },\n\n      error: err => {\n        if (err.status === 400 && err.error.message === 'Department already exists') {\n          this.showNotification('Department Code Already Exists', 'Close');\n        } else {\n          // Handle other errors\n          console.error(err);\n          alert('An error occurred while adding the department.');\n        }\n      }\n    });\n  }\n  gotoViewdepartment() {\n    this.route.navigate(['Admin', 'department', 'viewDepartment']);\n  }\n  showNotification(message, action) {\n    this.snack.open(message, action, {\n      duration: 3000\n    });\n  }\n  static #_ = this.ɵfac = function AddDepartmentComponent_Factory(t) {\n    return new (t || AddDepartmentComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddDepartmentComponent,\n    selectors: [[\"app-add-department\"]],\n    decls: 16,\n    vars: 1,\n    consts: [[1, \"container\"], [\"action\", \"\", 3, \"formGroup\"], [1, \"mb-3\"], [\"for\", \"exampleFormControlInput1\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"exampleFormControlInput1\", \"name\", \"departmentCode\", \"formControlName\", \"departmentCode\", 1, \"form-control\"], [\"for\", \"exampleFormControlTextarea1\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"exampleFormControlInput1\", \"name\", \"department\", \"formControlName\", \"departmentName\", 1, \"form-control\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"ms-5\", 3, \"click\"]],\n    template: function AddDepartmentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"p\");\n        i0.ɵɵtext(2, \"Add-Department Works!\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 1)(4, \"div\", 2)(5, \"label\", 3);\n        i0.ɵɵtext(6, \"Department Code :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"input\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 2)(9, \"label\", 5);\n        i0.ɵɵtext(10, \"Department : \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"input\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function AddDepartmentComponent_Template_button_click_12_listener() {\n          return ctx.post();\n        });\n        i0.ɵɵtext(13, \"Submit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function AddDepartmentComponent_Template_button_click_14_listener() {\n          return ctx.gotoViewdepartment();\n        });\n        i0.ɵɵtext(15, \"Cancel\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.addDepartment);\n      }\n    },\n    dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["FormControl","FormGroup","AddDepartmentComponent","constructor","route","ser","snack","addDepartment","departmentCode","departmentName","post","data","value","subscribe","next","res","console","log","message","navigate","alert","error","err","status","showNotification","gotoViewdepartment","action","open","duration","_","i0","ɵɵdirectiveInject","i1","Router","i2","ApiService","i3","MatSnackBar","_2","selectors","decls","vars","consts","template","AddDepartmentComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","AddDepartmentComponent_Template_button_click_12_listener","AddDepartmentComponent_Template_button_click_14_listener","ɵɵadvance","ɵɵproperty"],"sources":["/home/prathap/Videos/SeqNodeApi/gate_pass_ui/src/app/admin/department/add-department/add-department.component.ts","/home/prathap/Videos/SeqNodeApi/gate_pass_ui/src/app/admin/department/add-department/add-department.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Router } from '@angular/router';\nimport { ApiService } from 'src/app/apiServices/api.service';\n\nimport { Department } from 'src/app/classes/department';\n\n@Component({\n  selector: 'app-add-department',\n  templateUrl: './add-department.component.html',\n  styleUrls: ['./add-department.component.css'],\n})\nexport class AddDepartmentComponent {\n  constructor(private route: Router, private ser: ApiService,private snack:MatSnackBar) {}\n\n  addDepartment = new FormGroup({\n    departmentCode: new FormControl(),\n    departmentName: new FormControl(),\n  });\n\n  post() {\n    const data = this.addDepartment.value as Department;\n    this.ser.post('Admin/addDepartment', data).subscribe({\n      next: (res) => {\n        console.log(res);\n        if (res.message === 'Successfully saved') {\n          this.route.navigate(['Admin', 'department', 'viewDepartment']);\n        } else {\n          alert(res.message); // Handle unexpected messages\n        }\n      },\n      error: (err) => {\n        if (\n          err.status === 400 &&\n          err.error.message === 'Department already exists'\n        ) {\nthis.showNotification('Department Code Already Exists','Close')        } else {\n          // Handle other errors\n          console.error(err);\n          alert('An error occurred while adding the department.');\n        }\n      },\n    });\n  }\n\n  gotoViewdepartment() {\n    this.route.navigate(['Admin', 'department', 'viewDepartment']);\n  }\n\n  showNotification(message:string,action:string ) {\n    this.snack.open(message, action, {\n      duration:3000,\n    })\n  }\n}\n","\n<div class=\"container\">\n    <p>Add-Department Works!</p>\n    <form action=\"\" [formGroup]=\"addDepartment\">\n<div class=\"mb-3\">\n    <label for=\"exampleFormControlInput1\" class=\"form-label\">Department Code :</label>\n    <input type=\"number\" class=\"form-control\" id=\"exampleFormControlInput1\" name=\"departmentCode\" formControlName=\"departmentCode\">\n  </div>\n  <div class=\"mb-3\">\n    <label for=\"exampleFormControlTextarea1\" class=\"form-label\">Department : </label>\n    <input type=\"text\" class=\"form-control\" id=\"exampleFormControlInput1\" name=\"department\" formControlName=\"departmentName\">\n  </div>\n  <button type=\"button\" class=\"btn btn-success\" (click)=\"post()\">Submit</button>\n  <button type=\"button\" class=\"btn btn-danger ms-5\" (click)=\"gotoViewdepartment()\">Cancel</button>\n</form>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}