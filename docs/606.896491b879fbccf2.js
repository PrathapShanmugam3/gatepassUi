"use strict";(self.webpackChunkgate_pass_ui=self.webpackChunkgate_pass_ui||[]).push([[606],{606:(D,C,p)=>{p.r(C),p.d(C,{EmployeeModule:()=>V});var u=p(6814),d=p(9351),m=p(95),e=p(9468),h=p(1672),A=p(1093);function b(n,a){if(1&n&&(e.TgZ(0,"li")(1,"a",21),e._uU(2),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.departmentName)}}function N(n,a){1&n&&(e.TgZ(0,"div",22),e._uU(1," Employee Code is Required "),e.qZA())}function q(n,a){1&n&&(e.TgZ(0,"div",22),e._uU(1," Employee name is required "),e.qZA())}function T(n,a){1&n&&(e.TgZ(0,"div",22),e._uU(1," Employee photo is required\n"),e.qZA())}function v(n,a){1&n&&(e.TgZ(0,"div",22),e._uU(1," Contact Number Is Required "),e.qZA())}function I(n,a){1&n&&(e.TgZ(0,"div",22),e._uU(1," Enter a valid mobile number "),e.qZA())}function U(n,a){1&n&&(e.TgZ(0,"div",22),e._uU(1," Contact Number Is Required\n"),e.qZA())}function w(n,a){1&n&&(e.TgZ(0,"div",22),e._uU(1," Enter a valid mobile number\n"),e.qZA())}function x(n,a){1&n&&(e.TgZ(0,"div",22),e._uU(1," Email is Required "),e.qZA())}function F(n,a){1&n&&(e.TgZ(0,"div",22),e._uU(1," Enter a valid Email "),e.qZA())}function k(n,a){1&n&&(e.TgZ(0,"div",22),e._uU(1," Address Is Required "),e.qZA())}function Y(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"img",6),e.NdJ("load",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onImageLoad())}),e.qZA()(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"button",7),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.updateEmployeeById(i.id))}),e._uU(19,"Update"),e.qZA(),e.TgZ(20,"button",8),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.deleteEmployee(i.id))}),e._uU(21,"Delete"),e.qZA()()()}if(2&n){const t=a.$implicit,l=e.oxw();e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.EmployeeCode),e.xp6(2),e.Oqu(t.EmployeeName),e.xp6(2),e.Q6J("src",l.getImageSrc(t.id),e.LSH),e.xp6(2),e.Oqu(t.ContactNumber1),e.xp6(2),e.Oqu(t.ContactNumber2),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.AddressforCommunication)}}const S=[{path:"addemployee",component:(()=>{class n{constructor(t,l,o){this.route=t,this.ser=l,this.snack=o,this.allEmployeeDetails=[]}ngOnInit(){this.addEmployee=new m.cw({EmployeeCode:new m.NI("",[m.kI.required]),EmployeeName:new m.NI("",[m.kI.required]),Photo:new m.NI("",[m.kI.required]),ContactNumber1:new m.NI("",[m.kI.required,m.kI.pattern(/^\d{10}$/)]),ContactNumber2:new m.NI("",[m.kI.required,m.kI.pattern(/^\d{10}$/)]),Email:new m.NI("",[m.kI.required,m.kI.email]),AddressforCommunication:new m.NI("",[m.kI.required])}),this.getAllEmployees()}post(){const t=new FormData,l=this.addEmployee.value;Object.keys(l).forEach(o=>{t.append(o,l[o])}),this.ser.post("Admin/addEmployee",t).subscribe(o=>{console.log(o),this.showNotification("Form Submitted Successfully","Close"),this.route.navigate(["Admin","employee","viewemployee"])})}gotoViewdepartment(){this.route.navigate(["Admin","department","viewDepartment"])}gotoViewEmployee(){this.route.navigate(["Admin","employee","viewemployee"])}onFileChange(t){this.addEmployee.patchValue({Photo:t.target.files[0]})}showNotification(t,l){this.snack.open(t,l,{duration:3e3})}getAllEmployees(){this.ser.get("Admin/getAllDepartments").subscribe(t=>{this.allEmployeeDetails=t,console.log(t)})}static#e=this.\u0275fac=function(l){return new(l||n)(e.Y36(d.F0),e.Y36(h.s),e.Y36(A.ux))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-employee"]],decls:51,vars:12,consts:[[1,"container"],["action","",3,"formGroup"],[1,"dropdown"],["for",""],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","ms-3"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"mb-3","mt-3"],["for","exampleFormControlInput1",1,"form-label"],["type","text","id","exampleFormControlInput1","name","EmployeeCode","formControlName","EmployeeCode",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"mb-3"],["for","exampleFormControlTextarea1",1,"form-label"],["type","text","id","exampleFormControlInput1","name","EmployeeName","formControlName","EmployeeName",1,"form-control"],["type","file","id","exampleFormControlInput1","name","Photo",1,"form-control",3,"change"],["type","text","id","exampleFormControlInput1","name","ContactNumber1","formControlName","ContactNumber1",1,"form-control"],["type","text","id","exampleFormControlInput1","name","ContactNumber2","formControlName","ContactNumber2",1,"form-control"],["type","email","id","exampleFormControlInput1","name","Email","formControlName","Email",1,"form-control"],["type","text","id","exampleFormControlInput1","name","AddressforCommunication","formControlName","AddressforCommunication",1,"form-control"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger","ms-5",3,"click"],[1,"dropdown-item"],[1,"text-danger"]],template:function(l,o){if(1&l&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"label",3),e._uU(4,"Department : "),e.qZA(),e.TgZ(5,"button",4),e._uU(6," Select Department "),e.qZA(),e.TgZ(7,"ul",5),e.YNc(8,b,3,1,"li",6),e.qZA()(),e.TgZ(9,"div",7)(10,"label",8),e._uU(11,"EmployeeCode :"),e.qZA(),e._UZ(12,"input",9),e.qZA(),e.YNc(13,N,2,0,"div",10),e.TgZ(14,"div",11)(15,"label",12),e._uU(16,"EmployeeName : "),e.qZA(),e._UZ(17,"input",13),e.qZA(),e.YNc(18,q,2,0,"div",10),e.TgZ(19,"div",11)(20,"label",8),e._uU(21,"Photo :"),e.qZA(),e.TgZ(22,"input",14),e.NdJ("change",function(r){return o.onFileChange(r)}),e.qZA()(),e.YNc(23,T,2,0,"div",10),e.TgZ(24,"div",11)(25,"label",12),e._uU(26,"ContactNumber1 : "),e.qZA(),e._UZ(27,"input",15),e.qZA(),e.YNc(28,v,2,0,"div",10),e.YNc(29,I,2,0,"div",10),e.TgZ(30,"div",11)(31,"label",8),e._uU(32,"ContactNumber2 :"),e.qZA(),e._UZ(33,"input",16),e.qZA(),e.YNc(34,U,2,0,"div",10),e.YNc(35,w,2,0,"div",10),e.TgZ(36,"div",11)(37,"label",12),e._uU(38,"Email : "),e.qZA(),e._UZ(39,"input",17),e.qZA(),e.YNc(40,x,2,0,"div",10),e.YNc(41,F,2,0,"div",10),e.TgZ(42,"div",11)(43,"label",8),e._uU(44,"AddressforCommunication :"),e.qZA(),e._UZ(45,"input",18),e.qZA(),e.YNc(46,k,2,0,"div",10),e.TgZ(47,"button",19),e.NdJ("click",function(){return o.post()}),e._uU(48,"Submit"),e.qZA(),e.TgZ(49,"button",20),e.NdJ("click",function(){return o.gotoViewEmployee()}),e._uU(50,"Cancel"),e.qZA()()()),2&l){let i,r,s,c,y,g,_,E,f,Z;e.xp6(1),e.Q6J("formGroup",o.addEmployee),e.xp6(7),e.Q6J("ngForOf",o.allEmployeeDetails),e.xp6(5),e.Q6J("ngIf",(null==(i=o.addEmployee.get("EmployeeCode"))?null:i.hasError("required"))&&(null==(i=o.addEmployee.get("EmployeeCode"))?null:i.touched)),e.xp6(5),e.Q6J("ngIf",(null==(r=o.addEmployee.get("EmployeeName"))?null:r.hasError("required"))&&(null==(r=o.addEmployee.get("EmployeeName"))?null:r.touched)),e.xp6(5),e.Q6J("ngIf",(null==(s=o.addEmployee.get("Photo"))?null:s.hasError("required"))&&(null==(s=o.addEmployee.get("Photo"))?null:s.touched)),e.xp6(5),e.Q6J("ngIf",(null==(c=o.addEmployee.get("ContactNumber1"))?null:c.hasError("required"))&&(null==(c=o.addEmployee.get("ContactNumber1"))?null:c.touched)),e.xp6(1),e.Q6J("ngIf",(null==(y=o.addEmployee.get("ContactNumber1"))?null:y.hasError("pattern"))&&(null==(y=o.addEmployee.get("ContactNumber1"))?null:y.touched)),e.xp6(5),e.Q6J("ngIf",(null==(g=o.addEmployee.get("ContactNumber2"))?null:g.hasError("required"))&&(null==(g=o.addEmployee.get("ContactNumber2"))?null:g.touched)),e.xp6(1),e.Q6J("ngIf",(null==(_=o.addEmployee.get("ContactNumber2"))?null:_.hasError("pattern"))&&(null==(_=o.addEmployee.get("ContactNumber2"))?null:_.touched)),e.xp6(5),e.Q6J("ngIf",(null==(E=o.addEmployee.get("Email"))?null:E.hasError("required"))&&(null==(E=o.addEmployee.get("Email"))?null:E.touched)),e.xp6(1),e.Q6J("ngIf",(null==(f=o.addEmployee.get("Email"))?null:f.hasError("email"))&&(null==(f=o.addEmployee.get("Email"))?null:f.touched)),e.xp6(5),e.Q6J("ngIf",(null==(Z=o.addEmployee.get("AddressforCommunication"))?null:Z.hasError("required"))&&(null==(Z=o.addEmployee.get("AddressforCommunication"))?null:Z.touched))}},dependencies:[u.sg,u.O5,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u]})}return n})()},{path:"viewemployee",component:(()=>{class n{constructor(t,l){this.apiService=t,this.route=l,this.allEmployees=[]}ngOnInit(){this.get()}get(){this.apiService.get("Admin/getAllEmployees").subscribe(t=>{this.allEmployees=t,console.log(t)})}onImageLoad(){console.log("Image loaded successfully")}getImageSrc(t){return`http://localhost:3000/Admin/getImageById/${t}`}deleteEmployee(t){this.apiService.delete(`Admin/DeleteEmployeeDetails/${t}`).subscribe(l=>{confirm("Are you sure to Delete"),location.reload()})}updateEmployeeById(t){this.route.navigate(["Admin","employee","updateemployee",t])}gotoAddEmployee(){this.route.navigate(["Admin","employee","addemployee"])}gotoEmployee(){this.route.navigate(["Admin","dashboard"])}static#e=this.\u0275fac=function(l){return new(l||n)(e.Y36(h.s),e.Y36(d.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-employee"]],decls:28,vars:1,consts:[["type","button",1,"btn","btn-danger","ms-5","mt-5",3,"click"],["type","button",1,"btn","btn-success","ms-5","mt-5",3,"click"],[1,"container"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["alt","Product Image","height","100px","width","100px",3,"src","load"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger","ms-3",3,"click"]],template:function(l,o){1&l&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return o.gotoEmployee()}),e._uU(1," Back "),e.qZA(),e.TgZ(2,"button",1),e.NdJ("click",function(){return o.gotoAddEmployee()}),e._uU(3,"\nAdd Employee\n"),e.qZA(),e.TgZ(4,"div",2)(5,"table",3)(6,"thead")(7,"tr")(8,"th",4),e._uU(9,"Id"),e.qZA(),e.TgZ(10,"th",4),e._uU(11,"EmployeeCode"),e.qZA(),e.TgZ(12,"th",4),e._uU(13,"EmployeeName"),e.qZA(),e.TgZ(14,"th",4),e._uU(15,"Photo"),e.qZA(),e.TgZ(16,"th",4),e._uU(17,"ContactNumber1"),e.qZA(),e.TgZ(18,"th",4),e._uU(19,"ContactNumber2"),e.qZA(),e.TgZ(20,"th",4),e._uU(21,"Email"),e.qZA(),e.TgZ(22,"th",4),e._uU(23,"AddressforCommunication"),e.qZA(),e.TgZ(24,"th",4),e._uU(25,"Option"),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,Y,22,8,"tr",5),e.qZA()()()),2&l&&(e.xp6(27),e.Q6J("ngForOf",o.allEmployees))},dependencies:[u.sg]})}return n})()},{path:"updateemployee/:id",component:(()=>{class n{constructor(t,l,o,i){this.apiService=t,this.route=l,this.act=o,this.snack=i,this.updateEmployee=new m.cw({EmployeeCode:new m.NI,EmployeeName:new m.NI,Photo:new m.NI,ContactNumber1:new m.NI,ContactNumber2:new m.NI,Email:new m.NI,AddressforCommunication:new m.NI})}ngOnInit(){this.id=this.act.snapshot.params.id,this.getEmployeeDetailsById()}getEmployeeDetailsById(){this.apiService.getId(`Admin/getAllEmployees/${this.id}`).subscribe(t=>{this.updateEmployee.patchValue(t)})}onFileChange(t){this.updateEmployee.patchValue({Photo:t.target.files[0]})}updateEmployeeById(){const t=new FormData,l=this.updateEmployee.value;Object.keys(l).forEach(o=>{t.append(o,l[o])}),this.apiService.update(`Admin/UpdateEmployeeDetails/${this.id}`,t).subscribe(o=>{this.showNotification("Updated Sucessfully","close"),this.route.navigate(["Admin","employee","viewemployee"])})}gotoViewEmployee(){this.route.navigate(["Admin","employee","viewEmployee"])}onImageLoad(){console.log("Image loaded successfully")}getImageSrc(t){return`http://localhost:3000/Admin/getImageById/${t}`}showNotification(t,l){this.snack.open(t,l,{duration:3e3})}static#e=this.\u0275fac=function(l){return new(l||n)(e.Y36(h.s),e.Y36(d.F0),e.Y36(d.gz),e.Y36(A.ux))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-employee"]],decls:40,vars:2,consts:[[1,"container"],["action","",3,"formGroup"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["type","text","id","exampleFormControlInput1","name","EmployeeCode","formControlName","EmployeeCode",1,"form-control"],["for","exampleFormControlTextarea1",1,"form-label"],["type","text","id","exampleFormControlInput1","name","EmployeeName","formControlName","EmployeeName",1,"form-control"],["type","file","id","exampleFormControlInput1","name","Photo",1,"form-control",3,"change"],["alt","Product Image","height","100px","width","100px",3,"src","load"],["type","text","id","exampleFormControlInput1","name","ContactNumber1","formControlName","ContactNumber1",1,"form-control"],["type","text","id","exampleFormControlInput1","name","ContactNumber2","formControlName","ContactNumber2",1,"form-control"],["type","email","id","exampleFormControlInput1","name","Email","formControlName","Email",1,"form-control"],["type","text","id","exampleFormControlInput1","name","AddressforCommunication","formControlName","AddressforCommunication",1,"form-control"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger","ms-5",3,"click"]],template:function(l,o){1&l&&(e.TgZ(0,"p"),e._uU(1,"update-employee works!"),e.qZA(),e.TgZ(2,"div",0)(3,"div",0)(4,"p"),e._uU(5,"add-department works!"),e.qZA(),e.TgZ(6,"form",1)(7,"div",2)(8,"label",3),e._uU(9,"EmployeeCode :"),e.qZA(),e._UZ(10,"input",4),e.qZA(),e.TgZ(11,"div",2)(12,"label",5),e._uU(13,"EmployeeName : "),e.qZA(),e._UZ(14,"input",6),e.qZA(),e.TgZ(15,"div",2)(16,"label",3),e._uU(17,"Photo :"),e.qZA(),e.TgZ(18,"input",7),e.NdJ("change",function(r){return o.onFileChange(r)}),e.qZA(),e.TgZ(19,"img",8),e.NdJ("load",function(){return o.onImageLoad()}),e.qZA()(),e.TgZ(20,"div",2)(21,"label",5),e._uU(22,"ContactNumber1 : "),e.qZA(),e._UZ(23,"input",9),e.qZA(),e.TgZ(24,"div",2)(25,"label",3),e._uU(26,"ContactNumber2 :"),e.qZA(),e._UZ(27,"input",10),e.qZA(),e.TgZ(28,"div",2)(29,"label",5),e._uU(30,"Email : "),e.qZA(),e._UZ(31,"input",11),e.qZA(),e.TgZ(32,"div",2)(33,"label",3),e._uU(34,"AddressforCommunication :"),e.qZA(),e._UZ(35,"input",12),e.qZA(),e.TgZ(36,"button",13),e.NdJ("click",function(){return o.updateEmployeeById()}),e._uU(37,"Submit"),e.qZA(),e.TgZ(38,"button",14),e.NdJ("click",function(){return o.gotoViewEmployee()}),e._uU(39,"Cancel"),e.qZA()()()()),2&l&&(e.xp6(6),e.Q6J("formGroup",o.updateEmployee),e.xp6(13),e.Q6J("src",o.getImageSrc(o.id),e.LSH))},dependencies:[m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u]})}return n})()}];let O=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(S),d.Bz]})}return n})(),V=(()=>{class n{static#e=this.\u0275fac=function(l){return new(l||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[u.ez,O,m.u5,m.UX]})}return n})()}}]);