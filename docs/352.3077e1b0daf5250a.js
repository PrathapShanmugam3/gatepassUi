"use strict";(self.webpackChunkgate_pass_ui=self.webpackChunkgate_pass_ui||[]).push([[352],{6352:(C,d,p)=>{p.r(d),p.d(d,{DepartmentModule:()=>A});var l=p(6814),m=p(9351),a=p(95),t=p(9468),s=p(1672),u=p(1093);function D(o,_){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"th",6),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",7),t.NdJ("click",function(){const i=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.gotoGetDeptById(i.id))}),t._uU(9,"Update"),t.qZA(),t.TgZ(10,"button",8),t.NdJ("click",function(){const i=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.deleteDept(i.id))}),t._uU(11,"Delete"),t.qZA()()()}if(2&o){const n=_.$implicit;t.xp6(2),t.Oqu(n.id),t.xp6(2),t.Oqu(n.departmentCode),t.xp6(2),t.Oqu(n.departmentName)}}const g=[{path:"addDepartment",component:(()=>{class o{constructor(n,e,r){this.route=n,this.ser=e,this.snack=r,this.addDepartment=new a.cw({departmentCode:new a.NI,departmentName:new a.NI})}post(){this.ser.post("Admin/addDepartment",this.addDepartment.value).subscribe({next:e=>{console.log(e),"Successfully saved"===e.message?this.route.navigate(["Admin","department","viewDepartment"]):alert(e.message)},error:e=>{400===e.status&&"Department already exists"===e.error.message?this.showNotification("Department Code Already Exists","Close"):(console.error(e),alert("An error occurred while adding the department."))}})}gotoViewdepartment(){this.route.navigate(["Admin","department","viewDepartment"])}showNotification(n,e){this.snack.open(n,e,{duration:3e3})}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(m.F0),t.Y36(s.s),t.Y36(u.ux))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-department"]],decls:16,vars:1,consts:[[1,"container"],["action","",3,"formGroup"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["type","number","id","exampleFormControlInput1","name","departmentCode","formControlName","departmentCode",1,"form-control"],["for","exampleFormControlTextarea1",1,"form-label"],["type","text","id","exampleFormControlInput1","name","department","formControlName","departmentName",1,"form-control"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger","ms-5",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"p"),t._uU(2,"Add-Department Works!"),t.qZA(),t.TgZ(3,"form",1)(4,"div",2)(5,"label",3),t._uU(6,"Department Code :"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"div",2)(9,"label",5),t._uU(10,"Department : "),t.qZA(),t._UZ(11,"input",6),t.qZA(),t.TgZ(12,"button",7),t.NdJ("click",function(){return r.post()}),t._uU(13,"Submit"),t.qZA(),t.TgZ(14,"button",8),t.NdJ("click",function(){return r.gotoViewdepartment()}),t._uU(15,"Cancel"),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",r.addDepartment))},dependencies:[a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u]})}return o})()},{path:"viewDepartment",component:(()=>{class o{constructor(n,e,r){this.apiService=n,this.route=e,this.act=r,this.viewAllDept=[]}ngOnInit(){this.getAll()}getAll(){this.apiService.get("Admin/getAllDepartments").subscribe(n=>{this.viewAllDept=n})}gotoGetDeptById(n){this.route.navigate(["Admin","department","updateDepartment",n])}deleteDept(n){this.apiService.delete(`Admin/DeletedepartmentDetails/${n}`).subscribe(e=>{location.reload()})}gotoAddDepartment(){this.route.navigate(["Admin","department","addDepartment"])}gotoDepartment(){this.route.navigate(["Admin","dashboard"])}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(s.s),t.Y36(m.F0),t.Y36(m.gz))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-view-department"]],decls:18,vars:1,consts:[["type","button",1,"btn","btn-danger","ms-5","mt-5",3,"click"],["type","button",1,"btn","btn-success","ms-5","mt-5",3,"click"],[1,"container"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger","ms-3",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return r.gotoDepartment()}),t._uU(1," Back "),t.qZA(),t.TgZ(2,"button",1),t.NdJ("click",function(){return r.gotoAddDepartment()}),t._uU(3,"\nAdd Department\n"),t.qZA(),t.TgZ(4,"div",2)(5,"table",3)(6,"thead")(7,"tr")(8,"th",4),t._uU(9,"Id"),t.qZA(),t.TgZ(10,"th",4),t._uU(11,"DEPARTMENT CODE"),t.qZA(),t.TgZ(12,"th",4),t._uU(13,"DEPARTMENT NAME"),t.qZA(),t.TgZ(14,"th",4),t._uU(15,"OPTION"),t.qZA()()(),t.TgZ(16,"tbody"),t.YNc(17,D,12,3,"tr",5),t.qZA()()()),2&e&&(t.xp6(17),t.Q6J("ngForOf",r.viewAllDept))},dependencies:[l.sg]})}return o})()},{path:"updateDepartment/:id",component:(()=>{class o{constructor(n,e,r,i){this.apiService=n,this.route=e,this.act=r,this.snack=i,this.updateDepartment=new a.cw({departmentCode:new a.NI,departmentName:new a.NI})}ngOnInit(){this.id=this.act.snapshot.params.id,console.log(this.id),this.getDepartmentbyId()}getDepartmentbyId(){this.apiService.getId(`Admin/getDepartmentDetailsById/${this.id}`).subscribe(n=>{this.updateDepartment.patchValue(n)})}updateDepartmentSubmit(){this.apiService.update(`Admin/UpdatedepartmentDetails/${this.id}`,this.updateDepartment.value).subscribe(e=>{console.log(e),this.route.navigate(["Admin","department","viewDepartment"]),this.showNotification("Department Updated Successfully","close")})}gotoViewDepartment(){this.route.navigate(["Admin","department","viewDepartment"])}showNotification(n,e){this.snack.open(n,e,{duration:3e3})}static#t=this.\u0275fac=function(e){return new(e||o)(t.Y36(s.s),t.Y36(m.F0),t.Y36(m.gz),t.Y36(u.ux))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-update-department"]],decls:16,vars:1,consts:[[1,"container"],["action","",3,"formGroup"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["type","number","id","exampleFormControlInput1","name","departmentCode","formControlName","departmentCode",1,"form-control"],["for","exampleFormControlTextarea1",1,"form-label"],["type","text","id","exampleFormControlInput1","name","department","formControlName","departmentName",1,"form-control"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-danger","ms-5",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"p"),t._uU(1,"update-department works!"),t.qZA(),t.TgZ(2,"div",0)(3,"form",1)(4,"div",2)(5,"label",3),t._uU(6,"Department Code :"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"div",2)(9,"label",5),t._uU(10,"Department : "),t.qZA(),t._UZ(11,"input",6),t.qZA(),t.TgZ(12,"button",7),t.NdJ("click",function(){return r.updateDepartmentSubmit()}),t._uU(13,"Submit"),t.qZA(),t.TgZ(14,"button",8),t.NdJ("click",function(){return r.gotoViewDepartment()}),t._uU(15,"Cancel"),t.qZA()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",r.updateDepartment))},dependencies:[a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u]})}return o})()}];let b=(()=>{class o{static#t=this.\u0275fac=function(e){return new(e||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(g),m.Bz]})}return o})();var f=p(9862);let A=(()=>{class o{static#t=this.\u0275fac=function(e){return new(e||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[l.ez,b,a.u5,a.UX,f.JF]})}return o})()}}]);